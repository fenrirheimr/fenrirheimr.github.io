<!DOCTYPE html>
<html lang="">
<head>
	<meta charset="utf-8">
	<title></title>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/1.16.1/TweenMax.min.js"></script>
	<script>
		
		$(function() {
			
			$.fn.spiral = function( Options, Callback ){
				/*-- Input filtering --*/
				Opt= {
					Radius:			150,		// numeric (pixels), horizontal distance between starting and final points
					Duration:		1000,		// number of milliseconds (as for animate)
					Easing:			2,			// the number of cicles - if it is higher than 2 it will make more turns and will assume a 'bouncing' deceleration effect
					Queue:			false,	// boolean (as for animate)
					Xdirection:	false,	// boolean. If true, the rotation starts going up instead of down.
					Ydirection:	false,	// boolean. If true the movement will be from left to the right, instead of right to left.
					InsideOut:	false,	// boolean. If true, the object will whirl out from the inside of the spiral. Note that setting it to true changes the sense of Xdirection
					Vertical:		false		// boolean. If true, the object spiral will be primarily vertical. Note this changes Xdirection, Ydirection and InsideOut
				}
				$.extend(Opt,Options)
				if(!Callback)
					Callback= function(){return};
				/*-- Animation starts --*/
				return this.each(function(){
					var elem=$(this),
						start_z=elem.css('z-index');
					if (Opt.Vertical) {
						var start_l=parseInt(elem.css('margin-top')),
							start_t=parseInt(elem.css('margin-left'));
					} else {
						var start_l=parseInt(elem.css('margin-left')),
							start_t=parseInt(elem.css('margin-top'));
					}
					elem
						.animate({'z-index':start_z},{
							duration: Opt.Duration,
							complete: Callback,
							step:function(now,fx){
								fgamma = Opt.InsideOut ? Opt.Radius*(1+fx.pos) : Opt.Radius*(1-fx.pos);
								gamma=fx.pos*Opt.Easing*Math.PI;
								gamma=(Opt.Ydirection) ? -gamma : gamma;
								x=(Opt.Xdirection) ? (start_l+Opt.Radius-fgamma*Math.cos(gamma))+'px' : (start_l-Opt.Radius+fgamma*Math.cos(gamma))+'px';
								y=(start_t+fgamma*Math.sin(gamma))+'px';
								if (Opt.Vertical) {
									$(fx.elem).css({'margin-top':x,'margin-left':y})
								} else {
									$(fx.elem).css({'margin-left':x,'margin-top':y})
								}
							},
							queue: Opt.Queue
						})
				})
			};
			$('.obj').spiral();
			
//			/*global TweenMax, TimelineMax,Power2*/
//			var myDIVs = document.querySelectorAll('div'),
//				numDIVs = myDIVs.length;
//			var timeline = new TimelineMax({
//					paused: true
//				}),
//				duration = .4,
//				ease = Power2.easeOut,
//				staggerFactor = .1,
//				scrollTweenDuration = .4;
//			var scrollTimeout = null,
//				scrollTimeoutDelay = 20,
//				currentScrollProgress = 0;
//			var maxScroll = Math.max(document.body.scrollHeight, document.body.offsetHeight, document.documentElement.clientHeight, document.documentElement.scrollHeight, document.documentElement.offsetHeight) - window.innerHeight; //see [http://stackoverflow.com/a/17698713/3344111]
//			function init() {
//				initTimeline();
//				listenToScrollEvent();
//				onScroll();
//			}
//
//			function initTimeline() {
//				for (var i = 0; i < numDIVs; i += 1) {
//					timeline.fromTo(myDIVs[i], duration, {
//						opacity: 0
//					}, {
//						opacity: 1,
//						rotation:360,
//						x: -500,
//						y: 500,
//						ease: ease
//					}, i * staggerFactor);
//				}
//			}
//
//			function listenToScrollEvent() {
//				(window.addEventListener) ? window.addEventListener('scroll', debounceScroll, false) : window.attachEvent('onscroll', debounceScroll);
//			}
//
//			function debounceScroll() {
//				clearTimeout(scrollTimeout);
//				scrollTimeout = setTimeout(onScroll, scrollTimeoutDelay);
//			}
//
//			function onScroll() {
//				currentScrollProgress = roundDecimal(window.scrollY / maxScroll, 4);
//				timeline.progress(currentScrollProgress); // either directly set the [progress] of the timeline which may produce a rather jumpy result
//				TweenMax.to(timeline, scrollTweenDuration, {
//					progress: currentScrollProgress,
//					ease: ease
//				}); // or tween the [timeline] itself to produce a transition from one state to another i.e. it looks smooth
//			}
//
//			function roundDecimal(value, place) {
//				return Math.round(value * Math.pow(10, place)) / Math.pow(10, place);
//			}
//			//
//			init();
		});
		
	
	</script>
	<style>
		html, body {
			margin: 0;
			padding: 0;
			height: 2000px;
		}
		.obj {
			/*width: 100%;*/
			/*height: 60px;*/
			/*margin: 2px 0;*/
			position: absolute;
			/*top: -200px;*/
			/*left: 100%;*/
		}
		div:nth-child(odd) {
			background: #cc0;
		}
		div:nth-child(even) {
			background: #0cc;
		}
	</style>
</head>

<body>
<div class="obj obj-04"><img src="/img/s4-04.png" /></div>
<div class="obj obj-05"><img src="/img/s4-04.png" /></div>
<div class="obj obj-04"><img src="/img/s4-04.png" /></div>
<div class="obj obj-05"><img src="/img/s4-04.png" /></div>
<div class="obj obj-04"><img src="/img/s4-04.png" /></div>
<div class="obj obj-05"><img src="/img/s4-04.png" /></div>
<div class="obj obj-04"><img src="/img/s4-04.png" /></div>
<div class="obj obj-05"><img src="/img/s4-04.png" /></div>
<div class="obj obj-04"><img src="/img/s4-04.png" /></div>
<div class="obj obj-05"><img src="/img/s4-04.png" /></div>
<div class="obj obj-04"><img src="/img/s4-04.png" /></div>
<div class="obj obj-05"><img src="/img/s4-04.png" /></div>
<div class="obj obj-04"><img src="/img/s4-04.png" /></div>
<div class="obj obj-05"><img src="/img/s4-04.png" /></div>
<div class="obj obj-04"><img src="/img/s4-04.png" /></div>
<div class="obj obj-05"><img src="/img/s4-04.png" /></div>
<div class="obj obj-04"><img src="/img/s4-04.png" /></div>
<div class="obj obj-05"><img src="/img/s4-04.png" /></div>
<div class="obj obj-04"><img src="/img/s4-04.png" /></div>
<div class="obj obj-05"><img src="/img/s4-04.png" /></div>
<div class="obj obj-04"><img src="/img/s4-04.png" /></div>
<div class="obj obj-05"><img src="/img/s4-04.png" /></div>

</body>

</html>