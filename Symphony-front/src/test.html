//= partials/head.html
<!--//= partials/loader.html-->
//= partials/nav.html

<div class="container" style="height: 3000px">
	

	
</div>

//= partials/anim-el.html
//= partials/slide-panel.html
//= partials/scripts.html
<script>
	/*global TweenMax, TimelineMax,Power2*/
	var myDIVs = document.querySelectorAll('.obj'),
		numDIVs = myDIVs.length;
	var timeline = new TimelineMax({
			paused: true
		}),
		duration = .4,
		ease = Power2.easeOut,
		staggerFactor = .1,
		scrollTweenDuration = .4;
	var scrollTimeout = null,
		scrollTimeoutDelay = 20,
		currentScrollProgress = 0;
	var maxScroll = Math.max(document.body.scrollHeight, document.body.offsetHeight, document.documentElement.clientHeight, document.documentElement.scrollHeight, document.documentElement.offsetHeight) - window.innerHeight; //see [http://stackoverflow.com/a/17698713/3344111]
	
	function initTimeline() {
		for (var i = 0; i < numDIVs; i += 1) {
			timeline.fromTo(myDIVs[i], duration, {
				opacity: 0
			}, {
				opacity: 1,
				ease: ease,
				rotation: 270,
				x: -500,
				y: 500
			}, i * staggerFactor);
		}
	}
	
	function listenToScrollEvent() {
		(window.addEventListener) ? window.addEventListener('scroll', debounceScroll, false) : window.attachEvent('onscroll', debounceScroll);
	}
	
	function debounceScroll() {
		clearTimeout(scrollTimeout);
		scrollTimeout = setTimeout(onScroll, scrollTimeoutDelay);
	}
	
	function onScroll() {
		currentScrollProgress = roundDecimal(window.scrollY / maxScroll, 4);
		//timeline.progress(currentScrollProgress); // either directly set the [progress] of the timeline which may produce a rather jumpy result
		TweenMax.to(timeline, scrollTweenDuration, {
			progress: currentScrollProgress,
			ease: ease
		}); // or tween the [timeline] itself to produce a transition from one state to another i.e. it looks smooth
	}
	
	function roundDecimal(value, place) {
		return Math.round(value * Math.pow(10, place)) / Math.pow(10, place);
	}
	
	function initObj() {
		initTimeline();
		listenToScrollEvent();
	}
	
	initObj();
	
	console.log(maxScroll, numDIVs)
</script>
//= partials/footer.html